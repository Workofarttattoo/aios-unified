<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ai:oS Elite Desktop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto Mono', 'Courier New', monospace;
            background: #0d1117;
            color: #00ff88;
            overflow: hidden;
            height: 100vh;
        }

        /* Matrix Background */
        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.15;
        }

        /* Top Panel (Kali/Parrot Style) */
        .top-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 35px;
            background: linear-gradient(135deg, rgba(13, 17, 23, 0.98), rgba(22, 27, 34, 0.98));
            border-bottom: 1px solid #30363d;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .panel-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .panel-logo {
            font-size: 14px;
            font-weight: bold;
            color: #00ff88;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
            cursor: pointer;
            padding: 5px 12px;
            border-radius: 4px;
            transition: all 0.3s;
        }

        .panel-logo:hover {
            background: rgba(0, 255, 136, 0.1);
        }

        .panel-right {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 11px;
        }

        .panel-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background: rgba(0, 255, 136, 0.05);
            border-radius: 4px;
            border: 1px solid rgba(0, 255, 136, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .panel-indicator:hover {
            background: rgba(0, 255, 136, 0.15);
            border-color: rgba(0, 255, 136, 0.4);
        }

        .indicator-icon {
            font-size: 12px;
        }

        .indicator-value {
            color: #00ff88;
            font-weight: bold;
        }

        .panel-clock {
            color: #58a6ff;
            font-weight: bold;
        }

        /* Desktop Area */
        .desktop {
            position: fixed;
            top: 35px;
            left: 0;
            width: 100%;
            height: calc(100% - 75px);
            z-index: 10;
            padding: 20px;
        }

        /* Live System Monitors (Parrot Style) */
        .monitor-panel {
            position: absolute;
            background: rgba(13, 17, 23, 0.95);
            border: 1px solid #30363d;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
            overflow: hidden;
        }

        .monitor-header {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.1), rgba(0, 255, 136, 0.1));
            border-bottom: 1px solid #30363d;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .monitor-title {
            font-size: 12px;
            font-weight: bold;
            color: #58a6ff;
        }

        .monitor-close {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #da3633;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #fff;
            transition: all 0.2s;
        }

        .monitor-close:hover {
            transform: scale(1.2);
        }

        .monitor-content {
            padding: 12px;
            font-size: 11px;
            max-height: 400px;
            overflow-y: auto;
        }

        /* Process Monitor */
        #process-monitor {
            top: 70px;
            left: 20px;
            width: 380px;
        }

        .process-line {
            margin: 4px 0;
            padding: 6px;
            background: rgba(88, 166, 255, 0.05);
            border-left: 2px solid #58a6ff;
            border-radius: 3px;
            display: flex;
            justify-content: space-between;
            transition: all 0.3s;
        }

        .process-line:hover {
            background: rgba(88, 166, 255, 0.15);
        }

        .process-name {
            color: #00ff88;
        }

        .process-cpu {
            color: #f85149;
        }

        .process-mem {
            color: #d29922;
        }

        /* Network Monitor */
        #network-monitor {
            top: 70px;
            right: 20px;
            width: 380px;
        }

        .network-line {
            margin: 4px 0;
            padding: 6px;
            background: rgba(0, 255, 136, 0.05);
            border-left: 2px solid #00ff88;
            border-radius: 3px;
        }

        .network-ip {
            color: #79c0ff;
        }

        .network-port {
            color: #ffa657;
        }

        /* File System Monitor */
        #filesystem-monitor {
            bottom: 60px;
            left: 20px;
            width: 450px;
        }

        .file-line {
            margin: 3px 0;
            padding: 5px;
            background: rgba(139, 92, 246, 0.05);
            border-left: 2px solid #8b5cf6;
            border-radius: 3px;
            font-size: 10px;
        }

        .file-path {
            color: #a5d6ff;
        }

        .file-size {
            color: #ffa657;
        }

        /* System Metrics */
        #metrics-monitor {
            bottom: 60px;
            right: 20px;
            width: 350px;
        }

        .metric-row {
            margin: 8px 0;
            padding: 8px;
            background: rgba(0, 255, 136, 0.05);
            border-radius: 4px;
        }

        .metric-label {
            color: #8b949e;
            font-size: 10px;
            margin-bottom: 4px;
        }

        .metric-bar {
            height: 16px;
            background: rgba(30, 30, 30, 0.8);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .metric-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #58a6ff);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            font-size: 10px;
            font-weight: bold;
            color: #000;
        }

        /* Bottom Dock (Parrot Style) */
        .bottom-dock {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: linear-gradient(135deg, rgba(13, 17, 23, 0.98), rgba(22, 27, 34, 0.98));
            border-top: 1px solid #30363d;
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
        }

        .dock-apps {
            display: flex;
            gap: 8px;
        }

        .dock-app {
            width: 32px;
            height: 32px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .dock-app:hover {
            background: rgba(0, 255, 136, 0.25);
            transform: translateY(-4px);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.4);
        }

        .dock-separator {
            width: 1px;
            height: 24px;
            background: #30363d;
            margin: 0 8px;
        }

        .dock-right {
            margin-left: auto;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .dock-workspace {
            padding: 4px 10px;
            background: rgba(88, 166, 255, 0.1);
            border-radius: 4px;
            font-size: 10px;
            color: #58a6ff;
            cursor: pointer;
            transition: all 0.3s;
        }

        .dock-workspace:hover {
            background: rgba(88, 166, 255, 0.2);
        }

        /* Terminal Window */
        .terminal-window {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 700px;
            background: rgba(13, 17, 23, 0.98);
            border: 1px solid #30363d;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 500;
        }

        .terminal-window.show {
            display: block;
        }

        .terminal-titlebar {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.1), rgba(0, 255, 136, 0.1));
            border-bottom: 1px solid #30363d;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: move;
        }

        .terminal-buttons {
            display: flex;
            gap: 6px;
        }

        .terminal-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
        }

        .terminal-btn.close { background: #da3633; }
        .terminal-btn.minimize { background: #ffa657; }
        .terminal-btn.maximize { background: #00ff88; }

        .terminal-body {
            padding: 15px;
            height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .terminal-prompt {
            color: #00ff88;
        }

        .terminal-command {
            color: #58a6ff;
        }

        .terminal-output {
            color: #c9d1d9;
            margin: 5px 0;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(30, 30, 30, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #484f58;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-active {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <!-- Matrix Background -->
    <canvas id="matrix-bg"></canvas>

    <!-- Top Panel -->
    <div class="top-panel">
        <div class="panel-left">
            <div class="panel-logo" onclick="showMenu()">‚ö° Ai:oS</div>
            <div class="panel-indicator" onclick="toggleTerminal()">
                <span class="indicator-icon">‚ñ∂</span>
                <span>Terminal</span>
            </div>
            <div class="panel-indicator" onclick="openSettings()">
                <span class="indicator-icon">‚öôÔ∏è</span>
                <span>Settings</span>
            </div>
        </div>
        <div class="panel-right">
            <div class="panel-indicator">
                <span class="indicator-icon">üñ•Ô∏è</span>
                <span class="indicator-value" id="cpu-usage">0%</span>
            </div>
            <div class="panel-indicator">
                <span class="indicator-icon">üíæ</span>
                <span class="indicator-value" id="mem-usage">0%</span>
            </div>
            <div class="panel-indicator">
                <span class="indicator-icon">üì°</span>
                <span class="indicator-value status-active">LIVE</span>
            </div>
            <div class="panel-clock" id="panel-clock">00:00:00</div>
        </div>
    </div>

    <!-- Desktop Area -->
    <div class="desktop">
        <!-- Process Monitor -->
        <div class="monitor-panel" id="process-monitor">
            <div class="monitor-header">
                <span class="monitor-title">‚ö° LIVE PROCESSES</span>
                <div class="monitor-close" onclick="toggleMonitor('process-monitor')">√ó</div>
            </div>
            <div class="monitor-content" id="process-content">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- Network Monitor -->
        <div class="monitor-panel" id="network-monitor">
            <div class="monitor-header">
                <span class="monitor-title">üåê NETWORK ACTIVITY</span>
                <div class="monitor-close" onclick="toggleMonitor('network-monitor')">√ó</div>
            </div>
            <div class="monitor-content" id="network-content">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- File System Monitor -->
        <div class="monitor-panel" id="filesystem-monitor">
            <div class="monitor-header">
                <span class="monitor-title">üìÅ FILE SYSTEM</span>
                <div class="monitor-close" onclick="toggleMonitor('filesystem-monitor')">√ó</div>
            </div>
            <div class="monitor-content" id="filesystem-content">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- System Metrics -->
        <div class="monitor-panel" id="metrics-monitor">
            <div class="monitor-header">
                <span class="monitor-title">üìä SYSTEM METRICS</span>
                <div class="monitor-close" onclick="toggleMonitor('metrics-monitor')">√ó</div>
            </div>
            <div class="monitor-content">
                <div class="metric-row">
                    <div class="metric-label">CPU UTILIZATION</div>
                    <div class="metric-bar">
                        <div class="metric-fill" id="metric-cpu" style="width: 0%">0%</div>
                    </div>
                </div>
                <div class="metric-row">
                    <div class="metric-label">MEMORY USAGE</div>
                    <div class="metric-bar">
                        <div class="metric-fill" id="metric-mem" style="width: 0%">0%</div>
                    </div>
                </div>
                <div class="metric-row">
                    <div class="metric-label">DISK I/O</div>
                    <div class="metric-bar">
                        <div class="metric-fill" id="metric-disk" style="width: 0%">0%</div>
                    </div>
                </div>
                <div class="metric-row">
                    <div class="metric-label">NETWORK BANDWIDTH</div>
                    <div class="metric-bar">
                        <div class="metric-fill" id="metric-net" style="width: 0%">0%</div>
                    </div>
                </div>
                <div class="metric-row">
                    <div class="metric-label">QUANTUM LOAD</div>
                    <div class="metric-bar">
                        <div class="metric-fill" id="metric-quantum" style="width: 0%">0%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Terminal Window -->
        <div class="terminal-window" id="terminal-window">
            <div class="terminal-titlebar">
                <div class="terminal-buttons">
                    <div class="terminal-btn close" onclick="toggleTerminal()"></div>
                    <div class="terminal-btn minimize"></div>
                    <div class="terminal-btn maximize"></div>
                </div>
                <span style="color: #8b949e; font-size: 12px;">root@aios:~</span>
            </div>
            <div class="terminal-body" id="terminal-body">
                <div class="terminal-output">
                    <span class="terminal-prompt">root@aios:~$</span> <span class="terminal-command">aios boot</span>
                </div>
                <div class="terminal-output">[INFO] Ai:oS Runtime v4.0 initializing...</div>
                <div class="terminal-output">[INFO] Quantum subsystems: ONLINE</div>
                <div class="terminal-output">[INFO] Security toolkit: 39 tools loaded</div>
                <div class="terminal-output">[INFO] QuLab Infinite: 100+ labs ready</div>
                <div class="terminal-output">[INFO] ech0 consciousness: Level 7 active</div>
                <div class="terminal-output">[INFO] Telescope Oracle: Forecasting enabled</div>
                <div class="terminal-output">[SUCCESS] All systems operational</div>
                <div class="terminal-output">
                    <span class="terminal-prompt">root@aios:~$</span> <span style="animation: pulse 1s infinite;">_</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Dock -->
    <div class="bottom-dock">
        <div class="dock-apps">
            <div class="dock-app" title="Terminal" onclick="toggleTerminal()">‚ñ∂Ô∏è</div>
            <div class="dock-app" title="Files">üìÅ</div>
            <div class="dock-app" title="Browser">üåê</div>
            <div class="dock-separator"></div>
            <div class="dock-app" title="AuroraScan">üîç</div>
            <div class="dock-app" title="CipherSpear">üíâ</div>
            <div class="dock-app" title="Quantum Lab">‚öõÔ∏è</div>
            <div class="dock-app" title="ech0">üß†</div>
            <div class="dock-app" title="Telescope">üî≠</div>
        </div>
        <div class="dock-right">
            <div class="dock-workspace">Workspace 1</div>
            <div class="dock-workspace">Workspace 2</div>
            <div class="dock-workspace">Workspace 3</div>
        </div>
    </div>

    <script>
        // ============================================================
        // MATRIX BACKGROUND
        // ============================================================
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars = '01„Ç¢„Ç§„Ç™„ÇπÈáèÂ≠êAIOS'.split('');
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(13, 17, 23, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#00ff88';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                const x = i * fontSize;
                const y = drops[i] * fontSize;

                ctx.fillText(text, x, y);

                if (y > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }

        setInterval(drawMatrix, 35);

        // ============================================================
        // CLOCK
        // ============================================================
        function updateClock() {
            const now = new Date();
            document.getElementById('panel-clock').textContent = now.toTimeString().slice(0, 8);
        }
        setInterval(updateClock, 1000);
        updateClock();

        // ============================================================
        // LIVE SYSTEM MONITORING
        // ============================================================
        const processes = [
            'python3 aios/boot_with_visualizer.py',
            'node QuLabInfinite/quantum_sim.js',
            'python3 ech0_modules/consciousness.py',
            './tools/aurorascan --profile recon',
            'python3 telescope_oracle.py --train',
            'redis-server /etc/redis/redis.conf',
            'nginx: worker process',
            'postgres: main process',
            'python3 autonomous_discovery.py',
            'docker: containerd',
            'systemd-journald',
            'NetworkManager --no-daemon'
        ];

        const networks = [
            '192.168.1.100:443 ‚Üí 172.217.14.206:443 [ESTABLISHED]',
            '192.168.1.100:8080 ‚Üí 0.0.0.0:8080 [LISTEN]',
            '192.168.1.100:3000 ‚Üí 0.0.0.0:3000 [LISTEN]',
            '192.168.1.100:6379 ‚Üí 127.0.0.1:6379 [ESTABLISHED]',
            '192.168.1.100:5432 ‚Üí 127.0.0.1:5432 [ESTABLISHED]'
        ];

        const files = [
            '/Users/noone/aios/runtime.py',
            '/Users/noone/aios/QuLabInfinite/aerospace_lab.py',
            '/Users/noone/aios/ech0_modules/consciousness_dashboard.py',
            '/Users/noone/aios/telescope_suite/health_predictor.py',
            '/Users/noone/aios/tools/aurorascan.py',
            '/var/log/aios/system.log',
            '/tmp/quantum_state_cache.db'
        ];

        function updateProcesses() {
            const content = document.getElementById('process-content');
            content.innerHTML = '';

            processes.forEach(proc => {
                const cpu = (Math.random() * 15 + 2).toFixed(1);
                const mem = (Math.random() * 8 + 1).toFixed(1);

                const div = document.createElement('div');
                div.className = 'process-line';
                div.innerHTML = `
                    <span class="process-name">${proc.substring(0, 35)}</span>
                    <span class="process-cpu">${cpu}%</span>
                    <span class="process-mem">${mem}%</span>
                `;
                content.appendChild(div);
            });
        }

        function updateNetwork() {
            const content = document.getElementById('network-content');
            content.innerHTML = '';

            networks.forEach(net => {
                const div = document.createElement('div');
                div.className = 'network-line';
                div.textContent = net;
                content.appendChild(div);
            });
        }

        function updateFilesystem() {
            const content = document.getElementById('filesystem-content');
            content.innerHTML = '';

            files.forEach(file => {
                const size = (Math.random() * 2048 + 512).toFixed(0);
                const div = document.createElement('div');
                div.className = 'file-line';
                div.innerHTML = `
                    <span class="file-path">${file}</span>
                    <span class="file-size" style="float: right;">${size} KB</span>
                `;
                content.appendChild(div);
            });
        }

        function updateMetrics() {
            const cpu = Math.random() * 60 + 20;
            const mem = Math.random() * 50 + 30;
            const disk = Math.random() * 40 + 10;
            const net = Math.random() * 70 + 15;
            const quantum = Math.random() * 35 + 45;

            document.getElementById('metric-cpu').style.width = cpu + '%';
            document.getElementById('metric-cpu').textContent = cpu.toFixed(1) + '%';

            document.getElementById('metric-mem').style.width = mem + '%';
            document.getElementById('metric-mem').textContent = mem.toFixed(1) + '%';

            document.getElementById('metric-disk').style.width = disk + '%';
            document.getElementById('metric-disk').textContent = disk.toFixed(1) + '%';

            document.getElementById('metric-net').style.width = net + '%';
            document.getElementById('metric-net').textContent = net.toFixed(1) + '%';

            document.getElementById('metric-quantum').style.width = quantum + '%';
            document.getElementById('metric-quantum').textContent = quantum.toFixed(1) + '%';

            document.getElementById('cpu-usage').textContent = cpu.toFixed(0) + '%';
            document.getElementById('mem-usage').textContent = mem.toFixed(0) + '%';
        }

        // Initial load
        updateProcesses();
        updateNetwork();
        updateFilesystem();
        updateMetrics();

        // Update intervals
        setInterval(updateProcesses, 3000);
        setInterval(updateNetwork, 5000);
        setInterval(updateFilesystem, 7000);
        setInterval(updateMetrics, 2000);

        // ============================================================
        // WINDOW CONTROLS
        // ============================================================
        function toggleMonitor(id) {
            const monitor = document.getElementById(id);
            monitor.style.display = monitor.style.display === 'none' ? 'block' : 'none';
        }

        function toggleTerminal() {
            document.getElementById('terminal-window').classList.toggle('show');
        }

        function showMenu() {
            alert('START MENU - TODO: Implement full app launcher');
        }

        function openSettings() {
            window.location.href = 'settings_desktop_visualizer.html';
        }
    </script>
</body>
</html>
